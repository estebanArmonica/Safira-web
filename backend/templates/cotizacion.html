{% extends 'base/index.html' %}

{% block title %}
Safira Energía - Estamos para ayduar cotiza con nosotros en Safira Energía Chile
{% endblock %}

{% block content %}
<!-- Page Header Start -->
<div class="container-fluid page-header py-5 mb-5">
    <div class="container py-5">
        <h1 class="display-3 text-white mb-3 animated slideInDown">Cotiza con nosotros</h1>
        <nav aria-label="breadcrumb animated slideInDown">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a class="text-white" href="/home">Inicio</a></li>
                <li class="breadcrumb-item text-white active" aria-current="page">Cotización</li>
            </ol>
        </nav>
    </div>
</div>
<!-- Page Header End -->

<div class="container-fluid py-5">
    <div class="container">
        <!-- Encabezado -->
        <div class="text-center mb-5">
            <h2 class="fw-bold mb-3 bold-text" style="color: #022873;">
                Solicita tu<br>
                <span class="thin-text">cotización energética</span>
            </h2>
            <p class="lead" style="color: #495057;">
                Completa todos los campos obligatorios <span class="text-danger">*</span> para recibir una oferta
                personalizada.
                <br>¿Prefieres contactarnos directamente? <a href="{% url 'contactos' %}"
                    style="color: #80BF21; font-weight: 500;">Contáctanos aquí</a>
            </p>
        </div>

        <!-- Formulario -->
        <form class="needs-validation" enctype="multipart/form-data" novalidate>
            {% csrf_token %}

            <div class="col-md-12">
                <label class="form-label fw-medium" style="color: #022873;">Adjuntar archivo <span class="text-danger">*</span></label>

                <div class="file-input-container">
                    <label for="archivo" class="file-input-label">
                        <i class="bi bi-cloud-arrow-up"></i>
                        <span>Seleccionar archivo</span>
                        <small class="text-muted d-block mt-2">Formatos: PDF (Max. 5MB)</small>
                    </label>
                    <input type="file" accept=".pdf" id="archivo" class="file-input" required>

                    <!-- Este div aparecerá cuando se seleccione un archivo -->
                    <div id="file-preview" class="file-selected" style="display: none;">
                        <div class="file-info">
                            <i class="bi bi-file-earmark-text"></i>
                            <div>
                                <div class="file-name" id="selected-file-name"></div>
                                <div class="file-size" id="selected-file-size"></div>
                            </div>
                        </div>
                        <button type="button" class="remove-file" id="remove-file">
                            <i class="bi bi-trash"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Fila 1: Información personal -->
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <label for="nombre" class="form-label fw-medium" style="color: #022873;">Nombre completo <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text" style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i class="bi bi-person"></i></span>
                        <input type="text" class="form-control" placeholder="ej: Esteban Canales" id="nombre" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="email" class="form-label fw-medium" style="color: #022873;">Correo electrónico <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text" style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i class="bi bi-envelope"></i></span>
                        <input type="email" class="form-control" placeholder="tucorreo@empresa.cl" id="email" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-md-12">
                    <label for="telefono" class="form-label fw-medium" style="color: #022873;">Teléfono <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text" style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i class="bi bi-phone"></i></span>
                        <input type="number" class="form-control" placeholder="9 333111222" id="telefono" style="border-left: none;" required>
                    </div>
                </div>
            </div>

            <!-- Fila 2: Información empresarial -->
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <label for="rut" class="form-label fw-medium" style="color: #022873;">RUT empresa <span class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text" style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i class="bi bi-building"></i></span>
                        <input type="text" class="form-control" placeholder="11.111.111-1 (con puntos y guión)" id="rut" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="empresa" class="form-label fw-medium" style="color: #022873;">Nombre empresa <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text" style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i class="bi bi-card-text"></i></span>
                        <input type="text" class="form-control" placeholder="Safira Energía Chile" id="empresa" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="tipo_cliente" class="form-label fw-medium" style="color: #022873;">Tipo de cliente <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text"
                            style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i
                                class="bi bi-diagram-3"></i></span>
                        <select class="form-select" id="tipo_cliente" style="border-left: none;" required>
                            <option value="" selected disabled>Seleccionar...</option>
                            <option value="REGULADO">Regulado</option>
                            <option value="LIBRE">Libre</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="distribuidora" class="form-label fw-medium" style="color: #022873;">Distribuidora <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text"
                            style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i
                                class="bi bi-lightning-charge"></i></span>
                        <select class="form-select" id="distribuidora" style="border-left: none;" required>
                            <option value="" selected disabled>Seleccionar...</option>
                            <option value="ENEL">Enel</option>
                            <option value="CHILQUINTA">Chilquinta</option>
                            <option value="LIGHT">Light</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Fila 3: Ubicación y consumo -->
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <label for="comuna" class="form-label fw-medium" style="color: #022873;">Comuna <span class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text"
                            style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i
                                class="bi bi-geo-alt"></i></span>
                        <select class="form-select" id="comuna" style="border-left: none;" required>
                            <option value="" selected disabled>Seleccionar...</option>
                            <option value="Santiago">Santiago</option>
                            <option value="Providencia">Providencia</option>
                            <option value="Las Condes">Las Condes</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="consumoMensual" class="form-label fw-medium" style="color: #022873;">Consumo de electricidad (kWh) <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text"
                            style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i
                                class="bi bi-graph-up"></i></span>
                        <input type="number" class="form-control" placeholder="Ingrese consumo (kWh)" id="consumoMensual" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="consumoMensual" class="form-label fw-medium" style="color: #022873;">Demanda máxima (kWh) <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text"
                            style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i
                                class="bi bi-graph-up"></i></span>
                        <input type="number" class="form-control" placeholder="Ingrese la demanda (kWh)" id="demandaMaxima" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-md-6">
                    <label for="consumoMensual" class="form-label fw-medium" style="color: #022873;">Demanda máxima en hora punta (kWh) <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text"
                            style="background-color: #f1f3f5; color: #80BF21; border-right: none;"><i
                                class="bi bi-graph-up"></i></span>
                        <input type="number" class="form-control" placeholder="Ingrese la demanda (kWh)" id="demandaMaximaHp" style="border-left: none;" required>
                    </div>
                </div>

                <div class="col-12">
                    <label for="direccion" class="form-label fw-medium" style="color: #022873;">Dirección completa <span
                            class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text align-items-start" style="background-color: #f1f3f5; color: #80BF21; border-right: none; padding-top: 0.8rem;"><i class="bi bi-house-door"></i></span>
                        <textarea class="form-control" placeholder="ej: Las Rosas 852" id="direccion" rows="2" style="border-left: none;" required></textarea>
                    </div>
                </div>
            </div>

            <!-- Botón de envío -->
            <div class="text-center mt-5">
                <button type="submit" id="btnSolicitarCotizacion" class="btn btn-subscribe btn-lg rounded-0 px-5 py-3 fw-bold">
                    Solicitar cotización
                    <i class="fa-solid fa-check"></i>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}